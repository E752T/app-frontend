<ion-grid>
  <ion-row>
    <ion-col>
      <ion-accordion-group>
        <ion-accordion value="first" class="accordion-oggetto">
          <ion-item
            slot="header"
            style="
              border-radius: 104px 104px 104px 104px;
              -webkit-border-radius: 104px 104px 104px 104px;
              -moz-border-radius: 104px 104px 104px 104px;
              --background: #8f3b76;
              color: white;
            "
          >
            <ion-icon name="caret-forward-outline"></ion-icon>
            <ion-label class="cartellino-nome">{{ category.name }} </ion-label>
            <ion-button
              *ngIf="user_role === 'admin'"
              id="modale-elimina-categoria-'{{ category.categoryID }}'"
              color="danger"
            >
              <ion-icon name="trash-outline"></ion-icon>
              <ion-modal
                trigger="modale-elimina-categoria-'{{ category.categoryID }}'"
              >
                <ng-template>
                  <ion-header>
                    <ion-toolbar>
                      <ion-buttons slot="start">
                        <ion-button (click)="cancel()"
                          ><ion-icon name="arrow-undo-outline"></ion-icon
                        ></ion-button>
                      </ion-buttons>

                      <ion-buttons slot="end">
                        <ion-button
                          (click)="DeleteCategory(category.categoryID)"
                          id="conferma-elimina-'{{ category.categoryID }}'"
                          [strong]="true"
                          >Conferma</ion-button
                        >

                        <ion-toast
                          class="toast-autori"
                          trigger="conferma-elimina-'{{ category.categoryID }}'"
                          message=" Elemento Eliminato "
                          style="
                            max-width: 250px;
                            margin-left: 40%;
                            margin-right: 40%;
                          "
                          [duration]="2000"
                          expand="block"
                          color="danger"
                        ></ion-toast>
                      </ion-buttons>
                    </ion-toolbar>
                  </ion-header>
                  <ion-text class="center-element titolo-elimina-elemento">
                    Sei sicuro di eliminare questo elemento?
                  </ion-text>
                  <ion-card class="center-element card-elimina-elemento">
                    <ion-text>
                      <ion-icon name="person"></ion-icon>
                      Nome
                      <br />
                      <ion-text>
                        {{ category.name }}
                      </ion-text>
                    </ion-text>
                    <br />
                    <br />
                    <ion-text>
                      <ion-icon name="newspaper-outline"></ion-icon>
                      Descrizione:
                      <br />
  
                      <ion-text>
                        {{ category.description }}
                      </ion-text>
                    </ion-text>
                    <br />
                    <br />
  
                    <ion-text>
                      <ion-icon name="calendar-outline"></ion-icon>
                      Data dell'ultimo aggiornamento
                      <br />
  
                      <ion-text>
                        {{ category.lastUpdateDate }}
                      </ion-text>
                    </ion-text>
                  </ion-card>
                  <ion-toast
                    class="toast-autori"
                    trigger="confirmDeleteCategory-'{{ category.categoryID }}'"
                    message=" Elemento Eliminato "
                    style="
                      max-width: 250px;
                      margin-left: 40%;
                      margin-right: 40%;
                    "
                    [duration]="2000"
                    expand="block"
                    color="danger"
                  ></ion-toast>
                </ng-template>
              </ion-modal>
            </ion-button>
          </ion-item>

          <div
            slot="content"
            style="padding-bottom: 1%; padding-top: 1%; margin-top: 20px"
          >
            <svg
              fill="#000000"
              class="icone-autori"
              viewBox="0 0 32 32"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16 15.503A5.041 5.041 0 1 0 16 5.42a5.041 5.041 0 0 0 0 10.083zm0 2.215c-6.703 0-11 3.699-11 5.5v3.363h22v-3.363c0-2.178-4.068-5.5-11-5.5z"
              />
            </svg>
            <ion-label style="font-weight: bold"> Autore: </ion-label>
            <ion-input
              *ngIf="user_role === 'admin'"
              class="input-form"
              [(ngModel)]="category.name"
              id="{{ body_add_category.name }}"
              value="{{ category.name }}"
            >
            </ion-input>

            <ion-text
              *ngIf="user_role !== 'admin'"
              class="input-form input-form-text"
              >{{ category.name }}
            </ion-text>
          </div>

          <div slot="content" style="padding-bottom: 1%">
            <svg
              fill="#000000"
              class="icone-autori"
              viewBox="0 0 1920 1920"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M1801.441 0v1920H219.03v-439.216h-56.514c-31.196 0-56.515-25.299-56.515-56.47 0-31.172 25.319-56.47 56.515-56.47h56.514V1029.02h-56.514c-31.196 0-56.515-25.3-56.515-56.471 0-31.172 25.319-56.47 56.515-56.47h56.514V577.254h-56.514c-31.196 0-56.515-25.299-56.515-56.47 0-31.172 25.319-56.471 56.515-56.471h56.514V0h1582.412Zm-113.03 112.941H332.06v351.373h56.515c31.196 0 56.514 25.299 56.514 56.47 0 31.172-25.318 56.47-56.514 56.47H332.06v338.824h56.515c31.196 0 56.514 25.3 56.514 56.471 0 31.172-25.318 56.47-56.514 56.47H332.06v338.824h56.515c31.196 0 56.514 25.299 56.514 56.47 0 31.172-25.318 56.471-56.514 56.471H332.06v326.275h1356.353V112.94ZM640.289 425.201H1388.9v112.94H640.288v-112.94Zm0 214.83h639.439v112.94h-639.44v-112.94Zm0 534.845H1388.9v112.94H640.288v-112.94Zm0 214.83h639.439v112.94h-639.44v-112.94Z"
                fill-rule="evenodd"
              />
            </svg>

            <ion-label style="font-weight: bold"> Descrizione: </ion-label>
            <ion-input
              *ngIf="user_role === 'admin'"
              class="input-form"
              [(ngModel)]="category.description"
              id="{{ body_add_category.description }}"
              value="{{ category.description }}"
            >
            </ion-input>
            <ion-text
              *ngIf="user_role !== 'admin'"
              class="input-form input-form-text"
              >{{ category.description }}
            </ion-text>
          </div>

          <div slot="content">
            <svg
              class="icone-autori"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M7 4V2.5"
                stroke="#1C274C"
                stroke-width="1.5"
                stroke-linecap="round"
              />
              <path
                d="M17 4V2.5"
                stroke="#1C274C"
                stroke-width="1.5"
                stroke-linecap="round"
              />
              <path
                d="M9 14.5L10.5 13V17"
                stroke="#1C274C"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M13 16V14C13 13.4477 13.4477 13 14 13C14.5523 13 15 13.4477 15 14V16C15 16.5523 14.5523 17 14 17C13.4477 17 13 16.5523 13 16Z"
                stroke="#1C274C"
                stroke-width="1.5"
                stroke-linecap="round"
              />
              <path
                d="M21.5 9H16.625H10.75M2 9H5.875"
                stroke="#1C274C"
                stroke-width="1.5"
                stroke-linecap="round"
              />
              <path
                d="M14 22H10C6.22876 22 4.34315 22 3.17157 20.8284C2 19.6569 2 17.7712 2 14V12C2 8.22876 2 6.34315 3.17157 5.17157C4.34315 4 6.22876 4 10 4H14C17.7712 4 19.6569 4 20.8284 5.17157C22 6.34315 22 8.22876 22 12V14C22 17.7712 22 19.6569 20.8284 20.8284C20.1752 21.4816 19.3001 21.7706 18 21.8985"
                stroke="#1C274C"
                stroke-width="1.5"
                stroke-linecap="round"
              />
            </svg>
            <ion-label style="font-weight: bold; padding-bottom: 1%">
              Anno di aggiunta:
            </ion-label>
            <br />
            <ion-text
              class="input-form"
              id="open-modal-addedDate-Category-'{{ category.categoryID }}'"
              color="lighter"
              style="color: black; margin-top: 10px; margin-bottom: 10px"
              >{{
                category.addedDate ? category.addedDate : "NOT FOUND"
              }}</ion-text
            >
          </div>

          <div slot="content">
            <svg
              class="icone-autori"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M7 4V2.5"
                stroke="#1C274C"
                stroke-width="1.5"
                stroke-linecap="round"
              />
              <path
                d="M17 4V2.5"
                stroke="#1C274C"
                stroke-width="1.5"
                stroke-linecap="round"
              />
              <path
                d="M9 14.5L10.5 13V17"
                stroke="#1C274C"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M13 16V14C13 13.4477 13.4477 13 14 13C14.5523 13 15 13.4477 15 14V16C15 16.5523 14.5523 17 14 17C13.4477 17 13 16.5523 13 16Z"
                stroke="#1C274C"
                stroke-width="1.5"
                stroke-linecap="round"
              />
              <path
                d="M21.5 9H16.625H10.75M2 9H5.875"
                stroke="#1C274C"
                stroke-width="1.5"
                stroke-linecap="round"
              />
              <path
                d="M14 22H10C6.22876 22 4.34315 22 3.17157 20.8284C2 19.6569 2 17.7712 2 14V12C2 8.22876 2 6.34315 3.17157 5.17157C4.34315 4 6.22876 4 10 4H14C17.7712 4 19.6569 4 20.8284 5.17157C22 6.34315 22 8.22876 22 12V14C22 17.7712 22 19.6569 20.8284 20.8284C20.1752 21.4816 19.3001 21.7706 18 21.8985"
                stroke="#1C274C"
                stroke-width="1.5"
                stroke-linecap="round"
              />
            </svg>
            <ion-label style="font-weight: bold; padding-bottom: 2%">
              Data dell'ultimo aggiornamento:
            </ion-label>
            <br />
            <ion-text
              class="input-form"
              id="open-modal-lastUpdateDate-Category-'{{
                category.categoryID
              }}'"
              color="lighter"
              style="color: black; margin-top: 10px; margin-bottom: 10px"
              >{{
                category.lastUpdateDate ? category.lastUpdateDate : "NOT FOUND"
              }}</ion-text
            >
          </div>

          <div
            *ngIf="user_role === 'admin'"
            slot="content"
            style="padding-bottom: 1%; padding-top: 1%"
          >
            <ion-button
              color="secondary"
              style="padding-right: 3%"
              class="bottone-update"
              id="button-update-'{{ category.categoryID }}'"
              (click)="UpdateCategoryAPI()"
              >Salva</ion-button
            >
            <ion-toast
              trigger="button-update-'{{ category.categoryID }}'"
              message="Nuovo Elemento Salvato"
              class="toast-elemento"
              color="success"
              [duration]="2000"
              expand="block"
            ></ion-toast>

            <ion-button
              color="danger"
              style="padding-right: 3%"
              id="modale2-elimina-categoria-'{{ category.categoryID }}'"
            >
              Elimina</ion-button
            >

            <ion-modal
              trigger="modale2-elimina-categoria-'{{ category.categoryID }}'"
            >
              <ng-template>
                <ion-header>
                  <ion-toolbar>
                    <ion-buttons slot="start">
                      <ion-button (click)="cancel()"
                        ><ion-icon name="arrow-undo-outline"></ion-icon
                      ></ion-button>
                    </ion-buttons>

                    <ion-buttons slot="end">
                      <ion-button
                        (click)="DeleteCategory(category.categoryID)"
                        id="conferma-elimina-'{{ category.categoryID }}'"
                        [strong]="true"
                        >Conferma</ion-button
                      >

                      <ion-toast
                        class="toast-autori"
                        trigger="conferma-elimina-'{{ category.categoryID }}'"
                        message=" Elemento Eliminato "
                        style="
                          max-width: 250px;
                          margin-left: 40%;
                          margin-right: 40%;
                        "
                        [duration]="2000"
                        expand="block"
                        color="danger"
                      ></ion-toast>
                    </ion-buttons>
                  </ion-toolbar>
                </ion-header>
                <ion-text class="center-element titolo-elimina-elemento">
                  Sei sicuro di eliminare questo elemento?
                </ion-text>
                <ion-card class="center-element card-elimina-elemento">
                  <ion-text>
                    <ion-icon name="person"></ion-icon>
                    Nome
                    <br />
                    <ion-text>
                      {{ category.name }}
                    </ion-text>
                  </ion-text>
                  <br />
                  <br />
                  <ion-text>
                    <ion-icon name="newspaper-outline"></ion-icon>
                    Descrizione:
                    <br />

                    <ion-text>
                      {{ category.description }}
                    </ion-text>
                  </ion-text>
                  <br />
                  <br />

                  <ion-text>
                    <ion-icon name="calendar-outline"></ion-icon>
                    Data dell'ultimo aggiornamento
                    <br />

                    <ion-text>
                      {{ category.lastUpdateDate }}
                    </ion-text>
                  </ion-text>
                </ion-card>
              </ng-template>
            </ion-modal>
          </div>
        </ion-accordion>
      </ion-accordion-group>
    </ion-col>
  </ion-row>
</ion-grid>
